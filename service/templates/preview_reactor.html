{% extends "base.html" %}

{% block content %}

{% include '_preview-status.html' %}

{% if not reactor_id %}
    Insert the reactor ID in the URL bar above to see the reactor page
{% endif %}

<div id="reactor-page"></div>

{% endblock %}


{% block extra_js_bottom %}

<script type="text/javascript" src="{{url_for('static', filename='vendor/showdown-1.2.3/showdown.min.js')}}"></script>

<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/vendor/d3-3.5.17/d3.min.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/vendor/nvd3-1.8.1/nv.d3.js')}}"></script>

<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/es.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/edges.jquery.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/edges.js')}}"></script>

<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/components/maps.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/components/search.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/components/charts.js')}}"></script>

<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/renderers/google.edges.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/renderers/bs3.SearchingNotificationRenderer.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/renderers/nvd3.edges.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='vendor/edges/src/renderers/bs3.TabularResultsRenderer.js')}}"></script>

<script type="text/javascript" src="{{url_for('static', filename='js/reactordb.edges.js')}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='js/reactordbadmin.js')}}"></script>


<script type="text/javascript">
jQuery(document).ready(function($) {
    {% if reactor_id %}

    var current_domain = document.location.host;
    var current_scheme = window.location.protocol;
    var BASE_URL = current_scheme + "//" + current_domain;

    reactordb.makeReactorPage({
        reactor_index: "preview_reactor",
        operation_index: "preview_operation",
        postInit: function() {
            reactordbadmin.base_url = BASE_URL;
            reactordbadmin.selector = "#reactor-record";
            reactordbadmin.requestStatus();
        }
    });

    {% else %}
    $("#current-rollout-status").html("Select a reactor to see the rollout status");
    {% endif %}
});
</script>


{% endblock%}